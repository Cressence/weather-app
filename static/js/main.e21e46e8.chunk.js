(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,n){},104:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),s=n(32),l=n(76),o=n(30),u="WEATHER_SUCCESS",j="WEATHER_FAILURE",d="RESET",h=function(){var e=new Date;return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],", ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},b=function(){var e=new Date;return"".concat(f(e.getHours()),":").concat(f(e.getMinutes()))},p=function(e){var t,n=new Date(e);return"".concat(n.getDate()," ").concat((t=n.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t])," ").concat(n.getUTCFullYear())},O=function(e,t){var n=0;return e.forEach((function(e){"temperature"===t&&(n+=e.main.temp),"pressure"===t&&(n+=e.main.pressure),"humidity"===t&&(n+=e.main.humidity)})),m(n/e.length,1)},m=function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},f=function(e){return e<10?"0"+e:e},x={weatherData:null,appError:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:if("200"===t.data.cod){var n=t.data.list,a=n.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{}),c=Object.keys(a).map((function(e){return{temperature:O(a[e],"temperature"),pressure:O(a[e],"pressure"),description:a[e][0].weather[0].description,icon:a[e][0].weather[0].icon,date:a[e][0].dt_txt,humidity:O(a[e],"humidity"),tempCollection:a[e]}}));return Object(o.a)(Object(o.a)({},e),{},{weatherData:c})}return Object(o.a)(Object(o.a)({},e),{},{appError:t.data.message});case j:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:"Ops! could not get weather data. Please try again"});case d:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:null});default:return e}},g=Object(s.c)({weatherInfo:v}),w=function(){var e=Object(s.d)(Object(s.a)(l.a));return Object(s.e)(g,{},e)}();n(100);var N=n(34),y=n(39),S=n(15),I=n(21),E=n(163),C=n(159),D=n(158),F=n(165),M=n(161),k=n(164),A=n(160),P=n(149),L=n(152),J=(n(104),n(5)),T=function(e){var t=e.children;return Object(J.jsx)("div",{className:"wrapper-container",children:Object(J.jsx)(P.a,{className:"wrapper-content",children:Object(J.jsx)(L.a,{children:t})})})},W=n(48),z=n(13),H=(n(108),function(e){var t=e.temps,n=e.unit,a=[];return t.tempCollection.forEach((function(e){var t={time:"".concat(e.main.temp).concat("celcius"===n?"C":"F"),temperature:e.main.temp};a.push(t)})),Object(J.jsx)("div",{className:"bar-chart-container",children:Object(J.jsxs)(W.c,{data:a,children:[Object(J.jsx)(W.a,{tickSize:3,showLine:!1}),Object(J.jsx)(W.b,{valueField:"temperature",argumentField:"time"}),Object(J.jsx)(W.d,{text:p(t.date)}),Object(J.jsx)(z.a,{})]})})}),R=n(155),_=n(156),B=n(157),U=(n(109),function(e){var t=e.weatherInfo,n=localStorage.getItem("unit");return Object(J.jsxs)("div",{className:"weather-card-container",children:[Object(J.jsxs)("div",{className:"weather-card-justify-content",children:[Object(J.jsxs)("p",{className:"temperature-text",children:[Object(J.jsxs)("span",{children:[" ",t.temperature]})," "," "," ",Object(J.jsxs)("span",{children:[Object(J.jsx)("sup",{children:"o"}),null===n?"F":"celcius"===n?"C":"F"]})]}),Object(J.jsxs)("div",{className:"weather-card-right",children:[Object(J.jsx)("img",{className:"weather-icon",alt:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(t.icon,".png")}),Object(J.jsx)("p",{className:"temp-description",children:t.description}),Object(J.jsx)("p",{className:"date-text",children:p(t.date)})]})]}),Object(J.jsxs)("div",{className:"weather-card-justify-content",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"other-title",children:"Avg. Pressure"}),Object(J.jsxs)("p",{className:"value-title",children:[t.pressure," hPa"]})]}),Object(J.jsxs)("div",{className:"other-data-right",children:[Object(J.jsx)("p",{className:"other-title",children:"Avg. Humidity"}),Object(J.jsxs)("p",{className:"value-title",children:[t.humidity," %"]})]})]})]})}),G=(n(110),function(e,t){var n=[];if(t>531&&t<769)for(var a=0;a<e.length;a+=2){var c=a,r=c+2>e.length-1?e.length:c+2;n.push(e.slice(c,r))}else if(t<531)for(var i=0;i<e.length;i++){var s=i,l=s+1>e.length-1?e.length:s+1;n.push(e.slice(s,l))}else for(var o=0;o<e.length;o+=3){var u=o,j=u+3>e.length-1?e.length:u+3;n.push(e.slice(u,j))}return n}),Y=function(e){var t=e.data,n=e.clickGetInfo,c=Object(a.useState)(0),r=Object(I.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(window.innerWidth),o=Object(I.a)(l,2),u=o[0],j=o[1],d=Object(a.useState)(0),h=Object(I.a)(d,2),b=h[0],p=h[1];return Object(a.useEffect)((function(){var e=function(){j(window.innerWidth),p(G(t,window.innerWidth).length)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[j,t]),Object(J.jsx)("div",{className:"carousel-container",children:Object(J.jsxs)("div",{className:"carousel-item",children:[Object(J.jsxs)("div",{className:"navigator-section",children:[Object(J.jsx)("div",{children:i>0?Object(J.jsx)(R.a,{fontSize:"large",onClick:function(){var e=i,n=t.length;e<1?e=n-1:e--,s(e)}}):null}),Object(J.jsx)("div",{children:i<b-1?Object(J.jsx)(_.a,{fontSize:"large",onClick:function(){var e=i;e===t.length-1?e=0:e++,s(e)}}):null})]}),G(t,u).map((function(e,t){return console.log(G.length),Object(J.jsx)("div",{children:Object(J.jsx)(B.a,{container:!0,spacing:2,children:e.map((function(e,a){return Object(J.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,onClick:function(){return n(e)},className:t===i?"active":"inactive",children:Object(J.jsx)(U,{weatherInfo:e})},a)}))})},t)}))]})})},q=(n(111),n(42)),V=n.n(q),K=n(83),Q=function(){var e=Object(K.a)(V.a.mark((function e(t,n){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="celcius"===n?"metric":"imperial",e.prev=1,e.abrupt("return",fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t.toLocaleLowerCase(),"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&units=").concat(a)).then((function(e){return new Promise((function(t){t(e.json())})).then((function(e){return e}))})));case 5:e.prev=5,e.t0=e.catch(1),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){return function(e){return e({type:d,data:null})}},Z=function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=c.a.useState(null===e?"fahrenheit":e),r=Object(I.a)(n,2),i=r[0],s=r[1],l=c.a.useState(null),o=Object(I.a)(l,2),u=o[0],j=o[1],d=c.a.useState(null===t?"Munich":t),p=Object(I.a)(d,2),O=p[0],m=p[1],f=Object(a.useRef)(null),x=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData}})).weatherInfo,v=Object(N.b)(),g=Object(S.f)();return Object(a.useEffect)((function(){null===x&&g.push("/weather-app")}),[g,x]),Object(J.jsx)(T,{children:Object(J.jsxs)("div",{className:"weather-info-container",children:[Object(J.jsxs)("div",{className:"current-location",children:[Object(J.jsxs)("div",{children:[Object(J.jsxs)("p",{className:"time-section",children:[Object(J.jsx)("span",{className:"time-text",children:b()})," "," ",Object(J.jsx)("span",{className:"am-pm",children:(new Date).getHours()>=12?"PM":"AM"})]}),Object(J.jsx)("p",{className:"date-text",children:h()})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"location-text",children:O}),Object(J.jsx)(E.a,{id:"location-input",label:"City",variant:"outlined",value:O,onChange:function(e){var t=e.target.value;m(t)},className:"search-input",InputProps:{endAdornment:Object(J.jsx)(C.a,{"aria-label":"search",onClick:function(){localStorage.setItem("city",O),v(X())},children:Object(J.jsx)(A.a,{})})}})]})]}),Object(J.jsx)("div",{children:Object(J.jsx)(D.a,{children:Object(J.jsxs)(F.a,{row:!0,"aria-label":"temperature",name:"temparature unit",value:i,onChange:function(e){s(e.target.value.toLowerCase()),localStorage.setItem("unit",e.target.value),v(X())},children:[Object(J.jsx)(M.a,{value:"celcius",control:Object(J.jsx)(k.a,{color:"primary"}),label:"Celsius"}),Object(J.jsx)(M.a,{value:"fahrenheit",control:Object(J.jsx)(k.a,{color:"primary"}),label:"Fahrenheit"})]})})}),null!==x?Object(J.jsx)(Y,{data:x,clickGetInfo:function(e){var t;j(e),null===(t=f.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}}):null,null!==u?Object(J.jsx)(H,{temps:u,unit:i}):null,Object(J.jsx)("div",{ref:f})]})})},$=n(162),ee=(n(114),function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData,appError:e.weatherInfo.appError}})),c=n.weatherInfo,r=n.appError,i=Object(N.b)(),s=Object(S.f)();return Object(a.useEffect)((function(){var n,a;i((n=null===t?"Munich":t,a=null===e?"fahrenheit":e,function(e){return Q(n,a).then((function(t){e({type:u,data:t})})).catch((function(t){console.log("resp error: ",t),e({type:j,data:t})}))})),null!==c&&s.push("/weather-app/info")}),[i,s,c,e,t]),Object(J.jsx)(T,{children:Object(J.jsx)("div",{className:"loading-container",children:null!==r?Object(J.jsxs)("div",{children:[Object(J.jsxs)("p",{className:"loader-text",children:['City "',t,'" not found!']}),Object(J.jsx)($.a,{onClick:function(){localStorage.clear(),i(X())},className:"back-button",variant:"contained",color:"primary",children:"Back"})]}):Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"loader-text",children:"Almost there"}),Object(J.jsxs)("div",{className:"loader",children:[Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"})]})]})})})}),te=function(){var e="/weather-app";return Object(J.jsx)(y.a,{children:Object(J.jsxs)(S.c,{children:[Object(J.jsx)(S.a,{exact:!0,path:e,component:ee}),Object(J.jsx)(S.a,{exact:!0,path:"".concat(e,"/info"),component:Z})]})})},ne=function(e){var t=e.store;return Object(J.jsx)(N.a,{store:t,children:Object(J.jsx)(y.b,{children:Object(J.jsx)(te,{})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(ne,{store:w})}),document.getElementById("root")),ae()}},[[115,1,2]]]);
//# sourceMappingURL=main.e21e46e8.chunk.js.map