(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,a){},104:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),i=a.n(r),s=a(32),l=a(76),o=a(30),u="WEATHER_SUCCESS",j="WEATHER_FAILURE",d="RESET",h=function(){var e=new Date;return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],", ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},b=function(){var e=new Date;return"".concat(f(e.getHours()),":").concat(f(e.getMinutes()))},p=function(e){var t,a=new Date(e);return"".concat(a.getDate()," ").concat((t=a.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t])," ").concat(a.getUTCFullYear())},O=function(e,t){var a=0;return e.forEach((function(e){"temperature"===t&&(a+=e.main.temp),"pressure"===t&&(a+=e.main.pressure),"humidity"===t&&(a+=e.main.humidity)})),m(a/e.length,1)},m=function(e,t){var a=Math.pow(10,t||0);return Math.round(e*a)/a},f=function(e){return e<10?"0"+e:e},x={weatherData:null,appError:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:if("200"===t.data.cod){var a=t.data.list,n=a.reduce((function(e,t){var a=t.dt_txt.split(" ")[0];return e[a]||(e[a]=[]),e[a].push(t),e}),{}),c=Object.keys(n).map((function(e){return{temperature:O(n[e],"temperature"),pressure:O(n[e],"pressure"),description:n[e][0].weather[0].description,icon:n[e][0].weather[0].icon,date:n[e][0].dt_txt,humidity:O(n[e],"humidity"),tempCollection:n[e]}}));return Object(o.a)(Object(o.a)({},e),{},{weatherData:c})}return Object(o.a)(Object(o.a)({},e),{},{appError:t.data.message});case j:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:"Ops! could not get weather data. Please try again"});case d:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:null});default:return e}},g=Object(s.c)({weatherInfo:v}),w=function(){var e=Object(s.d)(Object(s.a)(l.a));return Object(s.e)(g,{},e)}();a(100);var N=a(34),y=a(39),S=a(15),I=a(21),E=a(163),C=a(159),D=a(158),F=a(165),M=a(161),k=a(164),A=a(160),P=a(149),L=a(152),J=(a(104),a(5)),T=function(e){var t=e.children;return Object(J.jsx)("div",{className:"wrapper-container",children:Object(J.jsx)(P.a,{className:"wrapper-content",children:Object(J.jsx)(L.a,{children:t})})})},W=a(48),z=a(13),H=(a(108),function(e){var t=e.temps,a=e.unit,n=[];return t.tempCollection.forEach((function(e){var t={time:"".concat(e.main.temp).concat("celcius"===a?"C":"F"),temperature:e.main.temp};n.push(t)})),Object(J.jsx)("div",{className:"bar-chart-container",children:Object(J.jsxs)(W.c,{data:n,children:[Object(J.jsx)(W.a,{tickSize:3,showLine:!1}),Object(J.jsx)(W.b,{valueField:"temperature",argumentField:"time"}),Object(J.jsx)(W.d,{text:p(t.date)}),Object(J.jsx)(z.a,{})]})})}),R=a(155),_=a(156),B=a(157),U=(a(109),function(e){var t=e.weatherInfo,a=localStorage.getItem("unit");return Object(J.jsxs)("div",{className:"weather-card-container",children:[Object(J.jsxs)("div",{className:"weather-card-justify-content",children:[Object(J.jsxs)("p",{className:"temperature-text",children:[Object(J.jsxs)("span",{children:[" ",t.temperature]})," "," "," ",Object(J.jsxs)("span",{children:[Object(J.jsx)("sup",{children:"o"}),null===a?"F":"celcius"===a?"C":"F"]})]}),Object(J.jsxs)("div",{className:"weather-card-right",children:[Object(J.jsx)("img",{className:"weather-icon",alt:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(t.icon,".png")}),Object(J.jsx)("p",{className:"temp-description",children:t.description}),Object(J.jsx)("p",{className:"date-text",children:p(t.date)})]})]}),Object(J.jsxs)("div",{className:"weather-card-justify-content",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"other-title",children:"Avg. Pressure"}),Object(J.jsxs)("p",{className:"value-title",children:[t.pressure," hPa"]})]}),Object(J.jsxs)("div",{className:"other-data-right",children:[Object(J.jsx)("p",{className:"other-title",children:"Avg. Humidity"}),Object(J.jsxs)("p",{className:"value-title",children:[t.humidity," %"]})]})]})]})}),G=(a(110),function(e,t){var a=[];if(t>531&&t<769)for(var n=0;n<e.length;n+=2){var c=n,r=c+2>e.length-1?e.length:c+2;a.push(e.slice(c,r))}else if(t<531)for(var i=0;i<e.length;i++){var s=i,l=s+1>e.length-1?e.length:s+1;a.push(e.slice(s,l))}else for(var o=0;o<e.length;o+=3){var u=o,j=u+3>e.length-1?e.length:u+3;a.push(e.slice(u,j))}return a}),Y=function(e){var t=e.data,a=e.clickGetInfo,c=Object(n.useState)(0),r=Object(I.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)(window.innerWidth),o=Object(I.a)(l,2),u=o[0],j=o[1],d=Object(n.useState)(0),h=Object(I.a)(d,2),b=h[0],p=h[1];return Object(n.useEffect)((function(){var e=function(){j(window.innerWidth),p(G(t,window.innerWidth).length)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[j,t]),Object(J.jsx)("div",{className:"carousel-container",children:Object(J.jsxs)("div",{className:"carousel-item",children:[Object(J.jsxs)("div",{className:"navigator-section",children:[Object(J.jsx)("div",{children:i>0?Object(J.jsx)(R.a,{fontSize:"large",onClick:function(){var e=i,a=t.length;e<1?e=a-1:e--,s(e)}}):null}),Object(J.jsx)("div",{children:i<b-1?Object(J.jsx)(_.a,{fontSize:"large",onClick:function(){var e=i;e===t.length-1?e=0:e++,s(e)}}):null})]}),G(t,u).map((function(e,t){return Object(J.jsx)("div",{children:Object(J.jsx)(B.a,{container:!0,spacing:2,children:e.map((function(e,n){return Object(J.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,onClick:function(){return a(e)},className:t===i?"active":"inactive",children:Object(J.jsx)(U,{weatherInfo:e})},n)}))})},t)}))]})})},q=(a(111),a(42)),V=a.n(q),K=a(83),Q=function(){var e=Object(K.a)(V.a.mark((function e(t,a){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="celcius"===a?"metric":"imperial",e.prev=1,e.abrupt("return",fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?q=").concat(t.toLocaleLowerCase(),"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&units=").concat(n)).then((function(e){return new Promise((function(t){t(e.json())})).then((function(e){return e}))})));case 5:e.prev=5,e.t0=e.catch(1),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){return function(e){return e({type:d,data:null})}},Z=function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),a=c.a.useState(null===e?"fahrenheit":e),r=Object(I.a)(a,2),i=r[0],s=r[1],l=c.a.useState(null),o=Object(I.a)(l,2),u=o[0],j=o[1],d=c.a.useState(null===t?"Munich":t),p=Object(I.a)(d,2),O=p[0],m=p[1],f=Object(n.useRef)(null),x=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData}})).weatherInfo,v=Object(N.b)(),g=Object(S.f)();return Object(n.useEffect)((function(){null===x&&g.push("".concat("/weather-app"))}),[g,x]),Object(J.jsx)(T,{children:Object(J.jsxs)("div",{className:"weather-info-container",children:[Object(J.jsxs)("div",{className:"current-location",children:[Object(J.jsxs)("div",{children:[Object(J.jsxs)("p",{className:"time-section",children:[Object(J.jsx)("span",{className:"time-text",id:"time-text",children:b()})," "," ",Object(J.jsx)("span",{className:"am-pm",children:(new Date).getHours()>=12?"PM":"AM"})]}),Object(J.jsx)("p",{className:"date-text",children:h()})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"location-text",children:O}),Object(J.jsx)(E.a,{id:"location-input",label:"City",variant:"outlined",value:O,onChange:function(e){var t=e.target.value;m(t)},className:"search-input",InputProps:{endAdornment:Object(J.jsx)(C.a,{disabled:0===O.trim().length,"aria-label":"search",onClick:function(){localStorage.setItem("city",O),v(X())},children:Object(J.jsx)(A.a,{})})}})]})]}),Object(J.jsx)("div",{children:Object(J.jsx)(D.a,{children:Object(J.jsxs)(F.a,{row:!0,"aria-label":"temperature",name:"temparature unit",value:i,onChange:function(e){s(e.target.value.toLowerCase()),localStorage.setItem("unit",e.target.value),v(X())},children:[Object(J.jsx)(M.a,{value:"celcius",control:Object(J.jsx)(k.a,{color:"primary"}),label:"Celsius"}),Object(J.jsx)(M.a,{value:"fahrenheit",control:Object(J.jsx)(k.a,{color:"primary"}),label:"Fahrenheit"})]})})}),null!==x?Object(J.jsx)(Y,{data:x,clickGetInfo:function(e){var t;j(e),null===(t=f.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}}):null,null!==u?Object(J.jsx)(H,{temps:u,unit:i}):null,Object(J.jsx)("div",{ref:f})]})})},$=a(162),ee=(a(114),function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),a=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData,appError:e.weatherInfo.appError}})),c=a.weatherInfo,r=a.appError,i=Object(N.b)(),s=Object(S.f)();return Object(n.useEffect)((function(){var a,n;i((a=null===t?"Munich":t,n=null===e?"fahrenheit":e,function(e){return Q(a,n).then((function(t){e({type:u,data:t})})).catch((function(t){console.log("resp error: ",t),e({type:j,data:t})}))})),null!==c&&s.push("".concat("/weather-app","/info"))}),[i,s,c,e,t]),Object(J.jsx)(T,{children:Object(J.jsx)("div",{className:"loading-container",children:null!==r?Object(J.jsxs)("div",{children:[Object(J.jsxs)("p",{"data-testid":"error-text",className:"loader-text",children:['City "',t,'" not found!']}),Object(J.jsx)($.a,{onClick:function(){localStorage.clear(),i(X())},className:"back-button",variant:"contained",color:"primary",children:"Back"})]}):Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{className:"loader-text",children:"Almost there"}),Object(J.jsxs)("div",{className:"loader",children:[Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"}),Object(J.jsx)("div",{className:"dot"})]})]})})})}),te=function(){var e="/weather-app";return Object(J.jsx)(y.a,{children:Object(J.jsxs)(S.c,{children:[Object(J.jsx)(S.a,{exact:!0,path:e,component:ee}),Object(J.jsx)(S.a,{exact:!0,path:"".concat(e,"/info"),component:Z})]})})},ae=function(e){var t=e.store;return Object(J.jsx)(N.a,{store:t,children:Object(J.jsx)(y.b,{children:Object(J.jsx)(te,{})})})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(ae,{store:w})}),document.getElementById("root")),ne()}},[[115,1,2]]]);
//# sourceMappingURL=main.980b4c66.chunk.js.map