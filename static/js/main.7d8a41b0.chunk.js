(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{102:function(e,t,n){},106:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),s=n(32),l=n(77),o=n(30),u="WEATHER_SUCCESS",j="WEATHER_FAILURE",d="RESET",h=n(63),b=n.n(h),p=function(e){return b()(e).format("Do  MMM,  YY")},m=function(e,t){var n=0;return e.forEach((function(e){"temperature"===t&&(n+=e.main.temp),"pressure"===t&&(n+=e.main.pressure),"humidity"===t&&(n+=e.main.humidity)})),O(n/e.length,1)},O=function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},f=function(e){return e<10?"0"+e:e},x={weatherData:null,appError:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:if("200"===t.data.cod){var n=t.data.list,a=n.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{}),c=Object.keys(a).map((function(e){return{temperature:m(a[e],"temperature"),pressure:m(a[e],"pressure"),description:a[e][0].weather[0].description,icon:a[e][0].weather[0].icon,date:a[e][0].dt_txt,humidity:m(a[e],"humidity"),tempCollection:a[e]}}));return Object(o.a)(Object(o.a)({},e),{},{weatherData:c})}return Object(o.a)(Object(o.a)({},e),{},{appError:t.data.message});case j:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:"Ops! could not get weather data. Please try again"});case d:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:null});default:return e}},g=Object(s.c)({weatherInfo:v}),w=function(){var e=Object(s.d)(Object(s.a)(l.a));return Object(s.e)(g,{},e)}();n(102);var N=n(34),I=n(51),S=n(15),y=n(20),E=n(164),C=n(160),k=n(159),M=n(166),D=n(162),F=n(165),P=n(161),A=n(151),L=(n(106),n(5)),Y=function(e){var t=e.children;return Object(L.jsx)("div",{className:"wrapper-container",children:Object(L.jsx)(A.a,{className:"wrapper-content",children:t})})},z=n(47),H=n(13),R=(n(110),function(e){var t=e.temps,n=e.unit,a=e.elementId,c=[];return t.tempCollection.forEach((function(e){var t={time:"".concat(e.main.temp).concat("celcius"===n?"C":"F"),temperature:e.main.temp};c.push(t)})),Object(L.jsx)("div",{className:"bar-chart-container",ref:a,children:Object(L.jsxs)(z.c,{data:c,children:[Object(L.jsx)(z.a,{tickSize:3,showLine:!1}),Object(L.jsx)(z.b,{valueField:"temperature",argumentField:"time"}),Object(L.jsx)(z.d,{text:p(t.date)}),Object(L.jsx)(H.a,{})]})})}),T=n(156),W=n(157),_=n(158),B=(n(111),function(e){var t=e.weatherInfo,n=localStorage.getItem("unit");return Object(L.jsxs)("div",{className:"weather-card-container",children:[Object(L.jsxs)("div",{className:"weather-card-justify-content",children:[Object(L.jsxs)("p",{className:"temperature-text",children:[Object(L.jsxs)("span",{children:[" ",t.temperature]})," "," "," ",Object(L.jsxs)("span",{children:[Object(L.jsx)("sup",{children:"o"}),null===n?"F":"celcius"===n?"C":"F"]})]}),Object(L.jsxs)("div",{className:"weather-card-right",children:[Object(L.jsx)("img",{className:"weather-icon",alt:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(t.icon,".png")}),Object(L.jsx)("p",{className:"temp-description",children:t.description}),Object(L.jsx)("p",{className:"date-text",children:p(t.date)})]})]}),Object(L.jsxs)("div",{className:"weather-card-justify-content",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"other-title",children:"Avg. Pressure"}),Object(L.jsxs)("p",{className:"value-title",children:[t.pressure," hPa"]})]}),Object(L.jsxs)("div",{className:"other-data-right",children:[Object(L.jsx)("p",{className:"other-title",children:"Avg. Humidity"}),Object(L.jsxs)("p",{className:"value-title",children:[t.humidity," %"]})]})]})]})}),G=(n(112),function(e,t){var n=[];if(t>531&&t<769)for(var a=0;a<e.length;a+=2){var c=a,r=c+2>e.length-1?e.length:c+2;n.push(e.slice(c,r))}else if(t<531)for(var i=0;i<e.length;i++){var s=i,l=s+1>e.length-1?e.length:s+1;n.push(e.slice(s,l))}else for(var o=0;o<e.length;o+=3){var u=o,j=u+3>e.length-1?e.length:u+3;n.push(e.slice(u,j))}return n}),J=function(e){var t=e.data,n=e.clickGetInfo,c=Object(a.useState)(0),r=Object(y.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(window.innerWidth),o=Object(y.a)(l,2),u=o[0],j=o[1],d=Object(a.useState)(0),h=Object(y.a)(d,2),b=h[0],p=h[1];return Object(a.useEffect)((function(){var e=function(){j(window.innerWidth),p(G(t,window.innerWidth).length)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[j,t]),Object(L.jsx)("div",{className:"carousel-container",children:Object(L.jsxs)("div",{className:"carousel-item",children:[Object(L.jsxs)("div",{className:"navigator-section",children:[Object(L.jsx)("div",{children:i>0?Object(L.jsx)(T.a,{fontSize:"large",onClick:function(){var e=i,n=t.length;e<1?e=n-1:e--,s(e)}}):null}),Object(L.jsx)("div",{children:i<b-1?Object(L.jsx)(W.a,{fontSize:"large",onClick:function(){var e=i;e===t.length-1?e=0:e++,s(e)}}):null})]}),G(t,u).map((function(e,t){return Object(L.jsx)("div",{children:Object(L.jsx)(_.a,{container:!0,spacing:2,children:e.map((function(e,a){return Object(L.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,onClick:function(){return n(e)},className:t===i?"active":"inactive",children:Object(L.jsx)(B,{weatherInfo:e})},a)}))})},t)}))]})})},U=(n(113),n(41)),q=n.n(U),V=n(84),K=function(){var e=Object(V.a)(q.a.mark((function e(t,n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="celcius"===n?"metric":"imperial",e.prev=1,e.abrupt("return",fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?q=").concat(t.toLocaleLowerCase(),"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&units=").concat(a)).then((function(e){return new Promise((function(t){t(e.json())})).then((function(e){return e}))})));case 5:return e.prev=5,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){return function(e){return e({type:d,data:null})}},X=function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=c.a.useState(null===e?"fahrenheit":e),r=Object(y.a)(n,2),i=r[0],s=r[1],l=c.a.useState(null),o=Object(y.a)(l,2),u=o[0],j=o[1],d=c.a.useState(null===t?"Munich":t),h=Object(y.a)(d,2),p=h[0],m=h[1],O=c.a.useState(0),x=Object(y.a)(O,2),v=x[0],g=x[1],w=c.a.useState(0),I=Object(y.a)(w,2),A=I[0],z=I[1],H=Object(a.useRef)(null),T=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData}})).weatherInfo,W=Object(N.b)(),_=Object(S.f)();return Object(a.useEffect)((function(){null===T&&_.push("/")}),[_,T]),setInterval((function(){var e=new Date;g(e.getMinutes()),z(e.getHours())}),1e3),Object(L.jsx)(Y,{children:Object(L.jsxs)("div",{className:"weather-info-container",children:[Object(L.jsxs)("div",{className:"current-location",children:[Object(L.jsxs)("div",{children:[Object(L.jsxs)("p",{className:"time-section",children:[Object(L.jsx)("span",{className:"time-text",id:"time-text",children:f(A)+":"+f(v)})," "," ",Object(L.jsx)("span",{className:"am-pm",children:(new Date).getHours()>=12?"PM":"AM"})]}),Object(L.jsx)("p",{className:"date-text",children:b()().format("dddd, MMMM Do YYYY")})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"location-text",children:p}),Object(L.jsx)(E.a,{id:"location-input",label:"City",variant:"outlined",value:p,onChange:function(e){var t=e.target.value;m(t)},className:"search-input",InputProps:{endAdornment:Object(L.jsx)(C.a,{disabled:0===p.trim().length,"aria-label":"search",onClick:function(){localStorage.setItem("city",p),W(Q())},children:Object(L.jsx)(P.a,{})})}})]})]}),Object(L.jsx)("div",{children:Object(L.jsx)(k.a,{children:Object(L.jsxs)(M.a,{row:!0,"aria-label":"temperature",name:"temparature unit",value:i,onChange:function(e){s(e.target.value.toLowerCase()),localStorage.setItem("unit",e.target.value),W(Q())},children:[Object(L.jsx)(D.a,{value:"celcius",control:Object(L.jsx)(F.a,{color:"primary"}),label:"Celsius"}),Object(L.jsx)(D.a,{value:"fahrenheit",control:Object(L.jsx)(F.a,{color:"primary"}),label:"Fahrenheit"})]})})}),null!==T?Object(L.jsx)(J,{data:T,clickGetInfo:function(e){j(e);var t=setInterval((function(){var e;null!==H.current&&(null===(e=H.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),clearInterval(t))}),100)}}):null,null!==u?Object(L.jsx)(R,{elementId:H,temps:u,unit:i}):null]})})},Z=n(163),$=(n(116),function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=Object(N.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData,appError:e.weatherInfo.appError}})),c=n.weatherInfo,r=n.appError,i=Object(N.b)(),s=Object(S.f)();return Object(a.useEffect)((function(){var n,a;i((n=null===t?"Munich":t,a=null===e?"fahrenheit":e,function(e){return K(n,a).then((function(t){e({type:u,data:t})})).catch((function(t){console.log("resp error: ",t),e({type:j,data:t})}))})),null!==c&&s.push("/info")}),[i,s,c,e,t]),Object(L.jsx)(Y,{children:Object(L.jsx)("div",{className:"loading-container",children:null!==r?Object(L.jsxs)("div",{children:[Object(L.jsxs)("p",{className:"loader-text",children:['City "',t,'" not found!']}),Object(L.jsx)(Z.a,{onClick:function(){localStorage.clear(),i(Q())},className:"back-button",variant:"contained",color:"primary",children:"Back"})]}):Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"loader-text",children:"Almost there"}),Object(L.jsxs)("div",{className:"loader",children:[Object(L.jsx)("div",{className:"dot"}),Object(L.jsx)("div",{className:"dot"}),Object(L.jsx)("div",{className:"dot"}),Object(L.jsx)("div",{className:"dot"}),Object(L.jsx)("div",{className:"dot"})]})]})})})}),ee=function(){return Object(L.jsx)(I.a,{basename:"/weather-app",children:Object(L.jsxs)(S.c,{children:[Object(L.jsx)(S.a,{exact:!0,path:"/",component:$}),Object(L.jsx)(S.a,{path:"/info",component:X})]})})},te=function(e){var t=e.store;return Object(L.jsx)(N.a,{store:t,children:Object(L.jsx)(ee,{})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(te,{store:w})}),document.getElementById("root")),ne()}},[[117,1,2]]]);
//# sourceMappingURL=main.7d8a41b0.chunk.js.map