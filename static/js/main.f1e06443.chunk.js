(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{102:function(e,t,n){},106:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),s=n(32),l=n(77),o=n(30),u="WEATHER_SUCCESS",j="WEATHER_FAILURE",d="RESET",h=n(63),b=n.n(h),p=function(){var e=new Date;return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],", ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},O=function(){var e=new Date;return"".concat(v(e.getHours()),":").concat(v(e.getMinutes()))},m=function(e){b()(e);return b()().format("Do  MMM,  YY")},f=function(e,t){var n=0;return e.forEach((function(e){"temperature"===t&&(n+=e.main.temp),"pressure"===t&&(n+=e.main.pressure),"humidity"===t&&(n+=e.main.humidity)})),x(n/e.length,1)},x=function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},v=function(e){return e<10?"0"+e:e},g={weatherData:null,appError:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:if("200"===t.data.cod){var n=t.data.list,a=n.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{}),c=Object.keys(a).map((function(e){return{temperature:f(a[e],"temperature"),pressure:f(a[e],"pressure"),description:a[e][0].weather[0].description,icon:a[e][0].weather[0].icon,date:a[e][0].dt_txt,humidity:f(a[e],"humidity"),tempCollection:a[e]}}));return Object(o.a)(Object(o.a)({},e),{},{weatherData:c})}return Object(o.a)(Object(o.a)({},e),{},{appError:t.data.message});case j:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:"Ops! could not get weather data. Please try again"});case d:return Object(o.a)(Object(o.a)({},e),{},{weatherData:null,appError:null});default:return e}},N=Object(s.c)({weatherInfo:w}),y=function(){var e=Object(s.d)(Object(s.a)(l.a));return Object(s.e)(N,{},e)}();n(102);var S=n(34),I=n(39),E=n(15),C=n(21),D=n(165),M=n(161),k=n(160),F=n(167),A=n(163),P=n(166),L=n(162),T=n(151),W=n(154),z=(n(106),n(5)),H=function(e){var t=e.children;return Object(z.jsx)("div",{className:"wrapper-container",children:Object(z.jsx)(T.a,{className:"wrapper-content",children:Object(z.jsx)(W.a,{children:t})})})},J=n(48),R=n(13),_=(n(110),function(e){var t=e.temps,n=e.unit,a=[];return t.tempCollection.forEach((function(e){var t={time:"".concat(e.main.temp).concat("celcius"===n?"C":"F"),temperature:e.main.temp};a.push(t)})),Object(z.jsx)("div",{className:"bar-chart-container",children:Object(z.jsxs)(J.c,{data:a,children:[Object(z.jsx)(J.a,{tickSize:3,showLine:!1}),Object(z.jsx)(J.b,{valueField:"temperature",argumentField:"time"}),Object(z.jsx)(J.d,{text:m(t.date)}),Object(z.jsx)(R.a,{})]})})}),B=n(157),Y=n(158),G=n(159),U=(n(111),function(e){var t=e.weatherInfo,n=localStorage.getItem("unit");return Object(z.jsxs)("div",{className:"weather-card-container",children:[Object(z.jsxs)("div",{className:"weather-card-justify-content",children:[Object(z.jsxs)("p",{className:"temperature-text",children:[Object(z.jsxs)("span",{children:[" ",t.temperature]})," "," "," ",Object(z.jsxs)("span",{children:[Object(z.jsx)("sup",{children:"o"}),null===n?"F":"celcius"===n?"C":"F"]})]}),Object(z.jsxs)("div",{className:"weather-card-right",children:[Object(z.jsx)("img",{className:"weather-icon",alt:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(t.icon,".png")}),Object(z.jsx)("p",{className:"temp-description",children:t.description}),Object(z.jsx)("p",{className:"date-text",children:m(t.date)})]})]}),Object(z.jsxs)("div",{className:"weather-card-justify-content",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"other-title",children:"Avg. Pressure"}),Object(z.jsxs)("p",{className:"value-title",children:[t.pressure," hPa"]})]}),Object(z.jsxs)("div",{className:"other-data-right",children:[Object(z.jsx)("p",{className:"other-title",children:"Avg. Humidity"}),Object(z.jsxs)("p",{className:"value-title",children:[t.humidity," %"]})]})]})]})}),q=(n(112),function(e,t){var n=[];if(t>531&&t<769)for(var a=0;a<e.length;a+=2){var c=a,r=c+2>e.length-1?e.length:c+2;n.push(e.slice(c,r))}else if(t<531)for(var i=0;i<e.length;i++){var s=i,l=s+1>e.length-1?e.length:s+1;n.push(e.slice(s,l))}else for(var o=0;o<e.length;o+=3){var u=o,j=u+3>e.length-1?e.length:u+3;n.push(e.slice(u,j))}return n}),V=function(e){var t=e.data,n=e.clickGetInfo,c=Object(a.useState)(0),r=Object(C.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(window.innerWidth),o=Object(C.a)(l,2),u=o[0],j=o[1],d=Object(a.useState)(0),h=Object(C.a)(d,2),b=h[0],p=h[1];return Object(a.useEffect)((function(){var e=function(){j(window.innerWidth),p(q(t,window.innerWidth).length)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[j,t]),Object(z.jsx)("div",{className:"carousel-container",children:Object(z.jsxs)("div",{className:"carousel-item",children:[Object(z.jsxs)("div",{className:"navigator-section",children:[Object(z.jsx)("div",{children:i>0?Object(z.jsx)(B.a,{fontSize:"large",onClick:function(){var e=i,n=t.length;e<1?e=n-1:e--,s(e)}}):null}),Object(z.jsx)("div",{children:i<b-1?Object(z.jsx)(Y.a,{fontSize:"large",onClick:function(){var e=i;e===t.length-1?e=0:e++,s(e)}}):null})]}),q(t,u).map((function(e,t){return Object(z.jsx)("div",{children:Object(z.jsx)(G.a,{container:!0,spacing:2,children:e.map((function(e,a){return Object(z.jsx)(G.a,{item:!0,xs:12,sm:6,md:4,onClick:function(){return n(e)},className:t===i?"active":"inactive",children:Object(z.jsx)(U,{weatherInfo:e})},a)}))})},t)}))]})})},K=(n(113),n(42)),Q=n.n(K),X=n(84),Z=function(){var e=Object(X.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="celcius"===n?"metric":"imperial",e.prev=1,e.abrupt("return",fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?q=").concat(t.toLocaleLowerCase(),"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&units=").concat(a)).then((function(e){return new Promise((function(t){t(e.json())})).then((function(e){return e}))})));case 5:e.prev=5,e.t0=e.catch(1),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){return function(e){return e({type:d,data:null})}},ee=function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=c.a.useState(null===e?"fahrenheit":e),r=Object(C.a)(n,2),i=r[0],s=r[1],l=c.a.useState(null),o=Object(C.a)(l,2),u=o[0],j=o[1],d=c.a.useState(null===t?"Munich":t),h=Object(C.a)(d,2),b=h[0],m=h[1],f=Object(a.useRef)(null),x=Object(S.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData}})).weatherInfo,v=Object(S.b)(),g=Object(E.f)();return Object(a.useEffect)((function(){null===x&&g.push("".concat("/weather-app"))}),[g,x]),Object(z.jsx)(H,{children:Object(z.jsxs)("div",{className:"weather-info-container",children:[Object(z.jsxs)("div",{className:"current-location",children:[Object(z.jsxs)("div",{children:[Object(z.jsxs)("p",{className:"time-section",children:[Object(z.jsx)("span",{className:"time-text",id:"time-text",children:O()})," "," ",Object(z.jsx)("span",{className:"am-pm",children:(new Date).getHours()>=12?"PM":"AM"})]}),Object(z.jsx)("p",{className:"date-text",children:p()})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"location-text",children:b}),Object(z.jsx)(D.a,{id:"location-input",label:"City",variant:"outlined",value:b,onChange:function(e){var t=e.target.value;m(t)},className:"search-input",InputProps:{endAdornment:Object(z.jsx)(M.a,{disabled:0===b.trim().length,"aria-label":"search",onClick:function(){localStorage.setItem("city",b),v($())},children:Object(z.jsx)(L.a,{})})}})]})]}),Object(z.jsx)("div",{children:Object(z.jsx)(k.a,{children:Object(z.jsxs)(F.a,{row:!0,"aria-label":"temperature",name:"temparature unit",value:i,onChange:function(e){s(e.target.value.toLowerCase()),localStorage.setItem("unit",e.target.value),v($())},children:[Object(z.jsx)(A.a,{value:"celcius",control:Object(z.jsx)(P.a,{color:"primary"}),label:"Celsius"}),Object(z.jsx)(A.a,{value:"fahrenheit",control:Object(z.jsx)(P.a,{color:"primary"}),label:"Fahrenheit"})]})})}),null!==x?Object(z.jsx)(V,{data:x,clickGetInfo:function(e){var t;j(e),null===(t=f.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}}):null,null!==u?Object(z.jsx)(_,{temps:u,unit:i}):null,Object(z.jsx)("div",{ref:f})]})})},te=n(164),ne=(n(116),function(){var e=localStorage.getItem("unit"),t=localStorage.getItem("city"),n=Object(S.c)((function(e){return{weatherInfo:e.weatherInfo.weatherData,appError:e.weatherInfo.appError}})),c=n.weatherInfo,r=n.appError,i=Object(S.b)(),s=Object(E.f)();return Object(a.useEffect)((function(){var n,a;i((n=null===t?"Munich":t,a=null===e?"fahrenheit":e,function(e){return Z(n,a).then((function(t){e({type:u,data:t})})).catch((function(t){console.log("resp error: ",t),e({type:j,data:t})}))})),null!==c&&s.push("".concat("/weather-app","/info"))}),[i,s,c,e,t]),Object(z.jsx)(H,{children:Object(z.jsx)("div",{className:"loading-container",children:null!==r?Object(z.jsxs)("div",{children:[Object(z.jsxs)("p",{className:"loader-text",children:['City "',t,'" not found!']}),Object(z.jsx)(te.a,{onClick:function(){localStorage.clear(),i($())},className:"back-button",variant:"contained",color:"primary",children:"Back"})]}):Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"loader-text",children:"Almost there"}),Object(z.jsxs)("div",{className:"loader",children:[Object(z.jsx)("div",{className:"dot"}),Object(z.jsx)("div",{className:"dot"}),Object(z.jsx)("div",{className:"dot"}),Object(z.jsx)("div",{className:"dot"}),Object(z.jsx)("div",{className:"dot"})]})]})})})}),ae=function(){var e="/weather-app";return Object(z.jsx)(I.a,{children:Object(z.jsxs)(E.c,{children:[Object(z.jsx)(E.a,{exact:!0,path:e,component:ne}),Object(z.jsx)(E.a,{exact:!0,path:"".concat(e,"/info"),component:ee})]})})},ce=function(e){var t=e.store;return Object(z.jsx)(S.a,{store:t,children:Object(z.jsx)(I.b,{children:Object(z.jsx)(ae,{})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(ce,{store:y})}),document.getElementById("root")),re()}},[[117,1,2]]]);
//# sourceMappingURL=main.f1e06443.chunk.js.map